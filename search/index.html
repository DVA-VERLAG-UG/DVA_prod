<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Suche | DVAYD</title>

  <link rel="stylesheet" href="/_pagefind/pagefind-ui.css">

  <style>
    /* keep page clean */
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      margin:0;
      padding:0;
    }

    /* optional: headline area (can remove if you want) */
    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 24px;
    }
    h1{ margin: 0 0 14px; }

    /* ==========================
       FIX: Search results overlay
       ========================== */
    #search{
      position:fixed;
      top:72px; /* header height */
      left:50%;
      transform:translateX(-50%);
      width:min(960px, calc(100% - 40px));
      max-height: calc(100vh - 96px);
      overflow:auto;

      z-index:999; /* above everything */

      background: rgba(0,0,0,.55);
      backdrop-filter: blur(18px) saturate(1.4);
      -webkit-backdrop-filter: blur(18px) saturate(1.4);

      border-radius:18px;
      padding:14px 12px;

      box-shadow:
        0 30px 90px rgba(0,0,0,.45),
        inset 0 1px 0 rgba(255,255,255,.12);

      display:none;
    }

    /* show only when we actually have a query */
    body.has-query #search{
      display:block;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <h1>Website durchsuchen</h1>
    <p style="opacity:.7; margin:0;">
      Nutze die Suche im Header, um Inhalte zu finden.
    </p>
  </div>

  <div id="search"></div>

  <script src="/_pagefind/pagefind-ui.js"></script>
  <script>
    window.addEventListener("DOMContentLoaded", () => {
      const params = new URLSearchParams(location.search);
      const q = (params.get("q") || "").trim();

      if (q) document.body.classList.add("has-query");

      new PagefindUI({
        element: "#search",
        showSubResults: true,
        showImages: false,
        showEmptyFilters: false,
        showInput: false,
        // ensures results render even though we hide the input
        // (PagefindUI will read the current URL query in most setups)
      });
    });
  </script>
</body>
</html>
