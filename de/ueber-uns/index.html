<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <title>DVA-YD.com – In Aufbau</title>
  <meta name="description" content="DVA Verlag – Website im Aufbau. Kontakt aufnehmen und informiert bleiben." />
  <meta name="robots" content="noindex, nofollow" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/assets/images/favicon.png">
  <link rel="apple-touch-icon" href="/assets/images/favicon.png">

  <!-- Global styles (inkl. globalem Cursor) -->
  <link rel="stylesheet" href="/assets/css/style.css">

  <!-- Header + Footer (injected) -->
  <script src="/js/header.js" defer></script>
  <script src="/js/footer.js" defer></script>

  <!-- Pagefind (Header Search) -->
  <script src="/_pagefind/pagefind.js" defer></script>

  <style>
    :root{
      --fg:#ffffff;
      --muted:rgba(255,255,255,.7);
      --blur:14px;
      --glass: rgba(0,0,0,.45);
      --line: rgba(255,255,255,.15);
      --ok:#00ff99;
    }

    *{ box-sizing:border-box; margin:0; padding:0; }

    html, body{
      height:100%;
      background:#000;
      color:var(--fg);
      font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      cursor:auto; /* ✅ use global cursor */
    }

    /* ✅ Layout so footer is always BELOW the page */
    body{
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    /* Header injection mount */
    #site-header{
      position: relative;
      z-index: 5; /* above video */
    }

    /* Main takes remaining space; footer goes after */
    main{
      flex: 1 0 auto;
      padding-top: var(--hdr-h, 72px); /* avoid overlap with fixed header */
      position: relative;
      z-index: 2;
    }

    /* Footer injection mount (normal flow, not fixed) */
    #site-footer{
      flex: 0 0 auto;
      position: relative;
      z-index: 2;
    }

    /* ---------- Video Background (behind everything) ---------- */
    .video-bg{
      position:fixed;
      inset:0;
      z-index:0;
      pointer-events:none;
    }
    .video-bg video{
      width:100%;
      height:100%;
      object-fit:cover;
    }

    .overlay{
      position:fixed;
      inset:0;
      z-index:1;
      background:rgba(0,0,0,.55);
      pointer-events:none;
    }

    /* ---------- Under construction section ---------- */
    .uc-wrap{
      min-height: calc(100vh - var(--hdr-h, 72px));
      display:flex;
      align-items:center;
      justify-content:center;
      padding: clamp(18px, 4vw, 44px);
      text-align:center;
    }

    .card{
      max-width:760px;
      width:100%;
      padding: clamp(28px, 4vw, 56px) clamp(20px, 4vw, 48px);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      background: var(--glass);
      border-radius:22px;
      border:1px solid var(--line);
      box-shadow:0 40px 120px rgba(0,0,0,.6);
      animation: fadeUp 1.2s ease forwards;
    }

    .logo{
      width:180px;
      max-height:70px;
      object-fit:contain;
      display:block;
      margin:0 auto 1.5rem;
      padding:14px 18px;
      border-radius:14px;
      transition: transform .25s ease;
    }
    .logo:hover{ transform: scale(1.05); }

    h1{
      font-size: clamp(2rem, 5vw, 3.1rem);
      font-weight:900;
      margin-bottom:.45rem;
    }
    h2{
      font-size:1.08rem;
      font-weight:500;
      color:var(--muted);
      margin-bottom:1.6rem;
    }

    .divider{
      width:80px;
      height:2px;
      background:#fff;
      margin:0 auto 1.6rem;
      opacity:.7;
    }

    p{
      font-size:1.02rem;
      line-height:1.6;
      color:var(--muted);
      margin-bottom:1.35rem;
    }

    .status{
      display:inline-flex;
      align-items:center;
      gap:10px;
      font-size:.82rem;
      letter-spacing:.12em;
      text-transform:uppercase;
      opacity:.9;
      margin-bottom:1.4rem;
    }
    .dot{
      width:10px;
      height:10px;
      background:var(--ok);
      border-radius:50%;
      animation:pulse 1.8s infinite;
    }

    .cta-row{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
    }

    .btn{
      appearance:none;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.06);
      color:#fff;
      padding:12px 16px;
      border-radius:14px;
      font-weight:850;
      cursor:pointer;
      text-decoration:none;
      transition:transform .15s ease, background .2s ease;
      display:inline-flex;
      align-items:center;
      justify-content:center;
    }
    .btn:hover{ transform:translateY(-1px); background:rgba(255,255,255,.1); }
    .btn.primary{
      background:rgba(0,255,153,.12);
      border-color:rgba(0,255,153,.4);
    }

    /* ---------- Contact Panel ---------- */
    .panel{
      margin-top:16px;
      text-align:left;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.35);
      overflow:hidden;
      max-height:0;
      opacity:0;
      transform:translateY(8px);
      transition:max-height .45s ease, opacity .25s ease, transform .25s ease;
    }
    .panel.is-open{
      max-height:560px;
      opacity:1;
      transform:translateY(0);
    }

    .panel-inner{
      padding:16px;
      display:grid;
      gap:10px;
    }

    .field{ display:grid; gap:6px; }
    label{ font-size:.82rem; font-weight:700; }
    input, textarea{
      width:100%;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:#fff;
      padding:12px;
      font:inherit;
    }
    textarea{ min-height:110px; resize:vertical; }

    .panel-actions{
      display:flex;
      gap:10px;
      justify-content:flex-end;
      flex-wrap:wrap;
    }

    .toast{
      display:none;
      margin-top:10px;
      padding:12px;
      border-radius:14px;
      background:rgba(0,255,153,.1);
      border:1px solid rgba(0,255,153,.35);
      color:#fff;
      font-weight:700;
    }
    .toast.ok{ display:block; }

    @keyframes pulse{
      0%{ transform:scale(1); opacity:1; }
      50%{ transform:scale(1.4); opacity:.4; }
      100%{ transform:scale(1); opacity:1; }
    }
    @keyframes fadeUp{
      from{ opacity:0; transform:translateY(20px); }
      to{ opacity:1; transform:translateY(0); }
    }
  </style>
</head>

<body>
  <!-- Injected Header -->
  <header id="site-header"></header>

  <!-- Video Background -->
  <div class="video-bg" aria-hidden="true">
    <video id="bgvid" autoplay muted loop playsinline preload="auto">
      <source src="/assets/images/under_construction.mp4" type="video/mp4">
    </video>
  </div>
  <div class="overlay" aria-hidden="true"></div>

  <main>
    <section class="uc-wrap">
      <div class="card">
        <img src="/assets/images/dva-logo.png" alt="DVA Verlag Logo" class="logo">

        <h1>DVA-YD.com</h1>
        <h2>DVA Verlag – In Aufbau</h2>

        <div class="divider"></div>

        <p>
          Wir arbeiten derzeit an einem neuen digitalen Auftritt.<br>
          Bald sind wir für Sie verfügbar.
        </p>

        <div class="status">
          <span class="dot"></span>
          <span>Website in Arbeit</span>
        </div>

        <div class="cta-row">
          <button class="btn primary" id="openContact" type="button">Kontakt aufnehmen</button>
          <a class="btn" href="/de/">Zur Startseite</a>
        </div>

        <div class="panel" id="contactPanel" aria-hidden="true">
          <div class="panel-inner">
            <form id="contactForm" name="kontakt-uc" method="POST" data-netlify="true">
              <input type="hidden" name="form-name" value="kontakt-uc">

              <div class="field">
                <label for="uc_name">Name</label>
                <input id="uc_name" name="name" required>
              </div>

              <div class="field">
                <label for="uc_email">E-Mail</label>
                <input id="uc_email" type="email" name="email" required>
              </div>

              <div class="field">
                <label for="uc_msg">Nachricht</label>
                <textarea id="uc_msg" name="nachricht" required></textarea>
              </div>

              <div class="panel-actions">
                <button class="btn" type="button" id="closeContact">Schließen</button>
                <button class="btn primary" type="submit">Senden</button>
              </div>

              <div class="toast" id="toast">Danke! Nachricht gesendet.</div>
            </form>
          </div>
        </div>

      </div>
    </section>
  </main>

  <!-- Injected Footer (normal flow, under page) -->
  <footer id="site-footer"></footer>

  <script>
    /* video playback */
    const video = document.getElementById("bgvid");
    video?.play().catch(()=>{});

    /* contact panel toggle */
    const openBtn = document.getElementById("openContact");
    const closeBtn = document.getElementById("closeContact");
    const panel = document.getElementById("contactPanel");

    openBtn?.addEventListener("click", () => {
      panel.classList.add("is-open");
      panel.setAttribute("aria-hidden","false");
      setTimeout(() => document.getElementById("uc_name")?.focus(), 120);
    });

    closeBtn?.addEventListener("click", () => {
      panel.classList.remove("is-open");
      panel.setAttribute("aria-hidden","true");
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        panel.classList.remove("is-open");
        panel.setAttribute("aria-hidden","true");
      }
    });

    /* (optional) show a simple toast on submit (Netlify will still handle submission) */
    const form = document.getElementById("contactForm");
    const toast = document.getElementById("toast");
    form?.addEventListener("submit", () => {
      toast.classList.add("ok");
      toast.style.display = "block";
    });
  </script>

</body>
</html>
